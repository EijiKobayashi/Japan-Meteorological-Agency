## Japan Meteorological Agency

気象庁のウェブサイトから情報を取得するスクリプト。<br>

※ PHP で JSON を取得して必要なデータのみを JSON に出力する<br>

<del>※ PHP でスクレイピングする</del>

<br><br>

#### 気象庁ウェブサイト JSON ファイル

(https://www.jma.go.jp/bosai/forecast/data/forecast/130000.json)

<details>
<summary>JSON ファイル</summary>
<div>

```json
[
  {
    "publishingOffice": "気象庁",
    "reportDatetime": "2021-03-02T11:00:00+09:00",
    "timeSeries": [
      {
        "timeDefines": [
          "2021-03-02T11:00:00+09:00",
          "2021-03-03T00:00:00+09:00",
          "2021-03-04T00:00:00+09:00"
        ],
        "areas": [
          {
            "area": {
              "name": "東京地方",
              "code": "130010"
            },
            "weatherCodes": ["313", "100", "101"],
            "weathers": [
              "雨　夜　くもり　所により　夕方　まで　雷　を伴う",
              "晴れ",
              "晴れ　時々　くもり"
            ],
            "winds": [
              "南の風　やや強く　後　北西の風　やや強く　２３区西部　では　南の風　強く",
              "北西の風　やや強く　後　東の風　２３区西部　では　はじめ　北西の風　強く",
              "北の風　後　南東の風"
            ],
            "waves": [
              "２メートル",
              "２メートル　後　０．５メートル",
              "０．５メートル"
            ]
          },
          {
            "area": {
              "name": "伊豆諸島北部",
              "code": "130020"
            },
            "weatherCodes": ["302", "101", "201"],
            "weathers": [
              "雨　時々　くもり　所により　夜のはじめ頃　まで　雷　を伴う",
              "晴れ　朝晩　くもり",
              "くもり　時々　晴れ"
            ],
            "winds": [
              "南の風　強く　後　北東の風　強く",
              "北東の風　強く　後　やや強く",
              "北東の風　やや強く　後　東の風"
            ],
            "waves": [
              "４メートル　うねり　を伴う",
              "４メートル　後　３メートル　うねり　を伴う　ただし　新島　では　４メートル　うねり　を伴う",
              "２．５メートル　うねり　を伴う　ただし　新島　では　３メートル　うねり　を伴う"
            ]
          },
          {
            "area": {
              "name": "伊豆諸島南部",
              "code": "130030"
            },
            "weatherCodes": ["302", "201", "200"],
            "weathers": [
              "雨　時々　くもり　所により　夜のはじめ頃　まで　雷　を伴う",
              "くもり　時々　晴れ",
              "くもり"
            ],
            "winds": [
              "南の風　強く　後　西の風　強く",
              "北東の風　強く　後　やや強く",
              "北東の風　やや強く　後　東の風　やや強く"
            ],
            "waves": [
              "４メートル　うねり　を伴う",
              "４メートル　うねり　を伴う",
              "４メートル　うねり　を伴う　ただし　三宅島　では　３メートル　うねり　を伴う"
            ]
          },
          {
            "area": {
              "name": "小笠原諸島",
              "code": "130040"
            },
            "weatherCodes": ["200", "200", "200"],
            "weathers": [
              "くもり　所により　昼過ぎ　まで　雨",
              "くもり",
              "くもり"
            ],
            "winds": [
              "東の風　後　南西の風",
              "南西の風　後　北東の風　やや強く",
              "北東の風　やや強く"
            ],
            "waves": [
              "４メートル　後　３メートル　うねり　を伴う",
              "３メートル　後　４メートル　うねり　を伴う",
              "４メートル　うねり　を伴う"
            ]
          }
        ]
      },
      {
        "timeDefines": [
          "2021-03-02T12:00:00+09:00",
          "2021-03-02T18:00:00+09:00",
          "2021-03-03T00:00:00+09:00",
          "2021-03-03T06:00:00+09:00",
          "2021-03-03T12:00:00+09:00",
          "2021-03-03T18:00:00+09:00"
        ],
        "areas": [
          {
            "area": {
              "name": "東京地方",
              "code": "130010"
            },
            "pops": ["70", "40", "10", "0", "0", "10"]
          },
          {
            "area": {
              "name": "伊豆諸島北部",
              "code": "130020"
            },
            "pops": ["90", "50", "10", "10", "10", "10"]
          },
          {
            "area": {
              "name": "伊豆諸島南部",
              "code": "130030"
            },
            "pops": ["90", "60", "20", "10", "10", "10"]
          },
          {
            "area": {
              "name": "小笠原諸島",
              "code": "130040"
            },
            "pops": ["30", "10", "20", "20", "10", "20"]
          }
        ]
      },
      {
        "timeDefines": [
          "2021-03-02T09:00:00+09:00",
          "2021-03-02T00:00:00+09:00",
          "2021-03-03T00:00:00+09:00",
          "2021-03-03T09:00:00+09:00"
        ],
        "areas": [
          {
            "area": {
              "name": "東京",
              "code": "44132"
            },
            "temps": ["19", "19", "4", "13"]
          },
          {
            "area": {
              "name": "大島",
              "code": "44172"
            },
            "temps": ["19", "19", "6", "12"]
          },
          {
            "area": {
              "name": "八丈島",
              "code": "44263"
            },
            "temps": ["21", "21", "9", "12"]
          },
          {
            "area": {
              "name": "父島",
              "code": "44301"
            },
            "temps": ["23", "23", "20", "21"]
          }
        ]
      }
    ]
  },
  {
    "publishingOffice": "気象庁",
    "reportDatetime": "2021-03-02T11:00:00+09:00",
    "timeSeries": [
      {
        "timeDefines": [
          "2021-03-03T00:00:00+09:00",
          "2021-03-04T00:00:00+09:00",
          "2021-03-05T00:00:00+09:00",
          "2021-03-06T00:00:00+09:00",
          "2021-03-07T00:00:00+09:00",
          "2021-03-08T00:00:00+09:00",
          "2021-03-09T00:00:00+09:00"
        ],
        "areas": [
          {
            "area": {
              "name": "東京地方",
              "code": "130010"
            },
            "weatherCodes": ["100", "101", "201", "202", "200", "201", "201"],
            "pops": ["", "20", "30", "50", "40", "30", "30"],
            "reliabilities": ["", "", "A", "C", "C", "A", "B"]
          },
          {
            "area": {
              "name": "伊豆諸島北部",
              "code": "130020"
            },
            "weatherCodes": ["101", "201", "200", "202", "202", "201", "200"],
            "pops": ["", "30", "40", "50", "60", "30", "30"],
            "reliabilities": ["", "", "B", "C", "B", "B", "C"]
          },
          {
            "area": {
              "name": "伊豆諸島南部",
              "code": "130030"
            },
            "weatherCodes": ["201", "200", "200", "202", "202", "200", "200"],
            "pops": ["", "40", "40", "50", "60", "40", "40"],
            "reliabilities": ["", "", "B", "C", "B", "C", "C"]
          },
          {
            "area": {
              "name": "小笠原諸島",
              "code": "130040"
            },
            "weatherCodes": ["200", "200", "101", "101", "101", "201", "201"],
            "pops": ["", "40", "20", "20", "20", "30", "10"],
            "reliabilities": ["", "", "A", "A", "A", "A", "A"]
          }
        ]
      },
      {
        "timeDefines": [
          "2021-03-03T00:00:00+09:00",
          "2021-03-04T00:00:00+09:00",
          "2021-03-05T00:00:00+09:00",
          "2021-03-06T00:00:00+09:00",
          "2021-03-07T00:00:00+09:00",
          "2021-03-08T00:00:00+09:00",
          "2021-03-09T00:00:00+09:00"
        ],
        "areas": [
          {
            "area": {
              "name": "東京",
              "code": "44132"
            },
            "tempsMin": ["", "3", "7", "8", "4", "3", "4"],
            "tempsMinUpper": ["", "5", "8", "9", "6", "6", "7"],
            "tempsMinLower": ["", "2", "5", "4", "0", "0", "2"],
            "tempsMax": ["", "14", "16", "19", "10", "12", "13"],
            "tempsMaxUpper": ["", "16", "18", "21", "14", "14", "15"],
            "tempsMaxLower": ["", "12", "14", "17", "8", "9", "10"]
          },
          {
            "area": {
              "name": "大島",
              "code": "44172"
            },
            "tempsMin": ["", "5", "8", "10", "7", "5", "6"],
            "tempsMinUpper": ["", "6", "10", "12", "8", "7", "7"],
            "tempsMinLower": ["", "3", "6", "7", "3", "3", "3"],
            "tempsMax": ["", "12", "16", "18", "12", "11", "13"],
            "tempsMaxUpper": ["", "15", "17", "20", "17", "15", "15"],
            "tempsMaxLower": ["", "11", "14", "17", "10", "10", "11"]
          },
          {
            "area": {
              "name": "八丈島",
              "code": "44263"
            },
            "tempsMin": ["", "8", "11", "12", "10", "10", "9"],
            "tempsMinUpper": ["", "10", "12", "14", "13", "11", "12"],
            "tempsMinLower": ["", "7", "9", "11", "8", "7", "8"],
            "tempsMax": ["", "15", "16", "19", "16", "13", "14"],
            "tempsMaxUpper": ["", "16", "18", "20", "18", "16", "17"],
            "tempsMaxLower": ["", "13", "15", "16", "13", "12", "13"]
          },
          {
            "area": {
              "name": "父島",
              "code": "44301"
            },
            "tempsMin": ["", "17", "18", "18", "18", "19", "18"],
            "tempsMinUpper": ["", "19", "19", "19", "20", "21", "21"],
            "tempsMinLower": ["", "16", "16", "16", "17", "18", "16"],
            "tempsMax": ["", "21", "22", "22", "23", "23", "21"],
            "tempsMaxUpper": ["", "22", "23", "23", "24", "24", "23"],
            "tempsMaxLower": ["", "19", "21", "21", "22", "21", "20"]
          }
        ]
      }
    ],
    "tempAverage": {
      "areas": [
        {
          "area": {
            "name": "東京",
            "code": "44132"
          },
          "min": "3.1",
          "max": "12.3"
        },
        {
          "area": {
            "name": "大島",
            "code": "44172"
          },
          "min": "5.1",
          "max": "12.6"
        },
        {
          "area": {
            "name": "八丈島",
            "code": "44263"
          },
          "min": "8.1",
          "max": "14.5"
        },
        {
          "area": {
            "name": "父島",
            "code": "44301"
          },
          "min": "15.9",
          "max": "20.8"
        }
      ]
    },
    "precipAverage": {
      "areas": [
        {
          "area": {
            "name": "東京",
            "code": "44132"
          },
          "min": "7.1",
          "max": "24.0"
        },
        {
          "area": {
            "name": "大島",
            "code": "44172"
          },
          "min": "22.3",
          "max": "54.7"
        },
        {
          "area": {
            "name": "八丈島",
            "code": "44263"
          },
          "min": "31.5",
          "max": "71.0"
        },
        {
          "area": {
            "name": "父島",
            "code": "44301"
          },
          "min": "4.3",
          "max": "15.8"
        }
      ]
    }
  }
]
```

</div>
</details>
<br>

<!--
#### 気象庁ウェブサイト HTML ソース

(https://www.jma.go.jp/jp/yoho/346.html)

```
<table class="forecast" id="forecasttablefont">
  <caption style="text-align:left;">4日17時福岡管区気象台発表の天気予報(今日4日から明後日6日まで)</caption>
  <tbody>
    <tr>
      <th colspan="2" class="th-area"><div style="float: left">福岡地方</div></th>
      <th class="th-rain">降水確率</th>
      <th class="th-temp">気温予報</th>
    </tr>
    <tr>
      <th class="weather">今夜4日<br><img src="img/700.png" align="middle" title="晴れ" alt="晴れ"><br></th>
      <td class="info">北の風　晴れ<br>波　１．５メートル　後　２メートル　うねり　を伴う</td>
      <td class="rain">
        <div class="font-size-clear">
          <table class="rain">
            <tbody>
              <tr>
                <td align="left">00-06</td>
                <td align="right">--%</td>
              </tr>
              <tr>
                <td align="left">06-12</td>
                <td align="right">--%</td>
              </tr>
              <tr>
                <td align="left">12-18</td>
                <td align="right">--%</td>
              </tr>
              <tr>
                <td align="left">18-24</td>
                <td align="right">0%</td>
              </tr>
            </tbody>
          </table>
        </div>
      </td>
      <td class="temp">
        <div class="font-size-clear">
          <table class="temp">
            <tbody>
              <tr>
                <th></th>
                <th nowrap="">朝の最低</th>
                <th nowrap="">日中の最高</th>
              </tr>
              <tr>
                <td class="city">福岡</td>
                <td class="min">1度</td>
                <td class="max">13度</td>
              </tr>
            </tbody>
          </table>
        </div>
      </td>
    </tr>
    <tr>
      <th class="weather">明日5日<br><img src="img/112.png" align="middle" title="晴れ後一時雨" alt="晴れ後一時雨"><br></th>
      <td class="info">南東の風　後　西の風　海上　では　南西の風　やや強く　晴れ　後　くもり　夜遅く　雨<br>波　２メートル　後　１．５メートル　うねり　を伴う</td>
      <td class="rain">
        <div class="font-size-clear">
          <table class="rain">
            <tbody>
              <tr>
                <td align="left" nowrap="">00-06</td>
                <td align="right">0%</td>
              </tr>
              <tr>
                <td align="left" nowrap="">06-12</td>
                <td align="right">0%</td>
              </tr>
              <tr>
                <td align="left" nowrap="">12-18</td>
                <td align="right">10%</td>
              </tr>
              <tr>
                <td align="left" nowrap="">18-24</td>
                <td align="right">50%</td>
              </tr>
            </tbody>
          </table>
        </div>
      </td>
      <td class="temp">
        <div class="font-size-clear">
          <table class="temp">
            <tbody>
              <tr>
                <th></th>
                <th nowrap="">朝の最低</th>
                <th nowrap="">日中の最高</th>
              </tr>
              <tr>
                <td class="city">福岡</td>
                <td class="min">1度</td>
                <td class="max">13度</td>
              </tr>
            </tbody>
          </table>
        </div>
      </td>
    </tr>
```
-->

<br><br>

#### 気象庁アイコン

| Code (weatherCodes) | Weather                     |
| ------------------- | --------------------------- |
| 100                 | 晴れ                        |
| 101                 | 晴れ時々曇り (晴れ一時曇り) |
| 102                 | 晴れ時々雨 (晴れ一時雨)     |
| 103                 | -                           |
| 104                 | 晴れ時々雪 (晴れ一時雪)     |
| 110                 | 晴れ後曇り (晴れ後一時曇り) |
| 112                 | 晴れ後雨 (晴れ後一時雨)     |
| 113                 | -                           |
| 115                 | 晴れ後雪 (晴れ後一時雪)     |
| 200                 | 曇り                        |
| 201                 | 曇り時々晴れ (曇り一時晴れ) |
| 202                 | 曇り時々雨 (曇り一時雨)     |
| 203                 | -                           |
| 204                 | 曇り時々雪 (曇り一時雪)     |
| 210                 | 曇り後晴れ (曇り後一時晴れ) |
| 212                 | 曇り後雨 (曇り後一時雨)     |
| 213                 | -                           |
| 214                 | 曇り夜雨                    |
| 215                 | 曇り後雪 (曇り後一時雪)     |
| 300                 | 雨                          |
| 301                 | 雨時々晴れ (雨一時晴れ)     |
| 302                 | 雨時々曇り (雨一時曇り)     |
| 303                 | 雨時々雪 (雨一時雪)         |
| 308                 | 大雨 (???)                  |
| 311                 | 雨後晴れ (雨後一時晴れ)     |
| 312                 | -                           |
| 313                 | 雨後曇り (雨後一時曇り)     |
| 314                 | 雨後雪 (雨後一時雪)         |
| 400                 | 雪                          |
| 401                 | 雪時々晴れ (雪一時晴れ)     |
| 402                 | 雪時々曇り (雪一時曇り)     |
| 403                 | 雪時々雨 (雪一時雨)         |
| 406                 | 吹雪 (???)                  |
| 411                 | 雪後晴れ (雪後一時晴れ)     |
| 412                 | -                           |
| 413                 | 雪後曇り (雪後一時曇り)     |
| 414                 | 雪後雨 (雪後一時雨)         |
| 500                 | 晴れ (夜)                   |
| 501                 | 晴れ時々曇り (夜)           |
| 502                 | 晴れ時々雨 (夜)             |
| 503                 | -                           |
| 504                 | 晴れ時々雪 (夜)             |
| 510                 | 晴れ後曇り (夜)             |
| 512                 | 晴れ後雨 (夜)               |
| 513                 | -                           |
| 514                 | -                           |
| 515                 | 晴れ後雪 (夜)               |
| 601                 | 曇り時々晴れ (夜)           |
| 610                 | 曇り後晴れ (夜)             |
| 701                 | 雨時々晴れ (夜)             |
| 711                 | 雨後晴れ (夜)               |
| 801                 | 雪時々晴れ (夜)             |
| 811                 | 雪後晴れ (夜)               |

<br><br>

#### # 天気パターン (10 つ)

| ID  | Weather                     | Codes (weatherCodes)                                       |
| --- | --------------------------- | ---------------------------------------------------------- |
| 1   | 晴れ                        | 100, 500, 700,                                             |
| 2   | 曇り                        | 200,                                                       |
| 3   | 雨                          | 300, 308,                                                  |
| 4   | 雪                          | 400, 406,                                                  |
| 5   | 晴れのち曇り / 曇りのち晴れ | 101, 110, 201, 210, 501, 510, 601, 610, 701, 704 707, 710, |
| 6   | 晴れのち雨 / 雨のち晴れ     | 102, 112, 301, 311, 502, 512, 701, 711,                    |
| 7   | 晴れのち雪 / 雪のち晴れ     | 104, 115, 401, 411, 504, 515, 801, 811,                    |
| 8   | 曇りのち雨 / 雨のち曇り     | 202, 212, 214, 302, 313,                                   |
| 9   | 曇りのち雪 / 雪のち曇り     | 204, 215, 402, 413,                                        |
| 10  | 雨のち雪 / 雪のち雨         | 303, 314, 403, 414,                                        |
